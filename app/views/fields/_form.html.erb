<% form_for [parent, field], :html => {:class => 'field_form'}, :remote => true do |form| %>
  <p>
    <%= form.label :name, '问题名称' %>   
    <%= form.text_field :name, :onfocus => "clear_initial(this);",:onblur => "set_initial(this)" %> 
    <%= hidden_field_tag :edit_key, parent.edit_key %>
    <%= form.hidden_field :uuid %> 
    <%= form.hidden_field :position,:class => 'field_position' %>
  </p>  
  <p>
    <%= form.label :prompt, '问题描述' %>
    <%= form.text_field :prompt %>  
  </p>
  
  <p>
    <%= form.label :input, '问题类型' %>
    <%= form.select :input, Field::TYPES,{}, :onchange => "field_input_changed(this)" %>
  </p>
  
  <div class="input_options">
    <%= render :partial => "/fields/#{field.input}_form", :locals => {:form => form, :field => field, :parent => parent} %>
  </div>
  
  <p>
    <%= form.submit '保存', :onclick => 'field_done_editing(this);' %>
    <%= form.check_box :required %>    
    <%= form.label :required, '设为必填项' %>
    | <%= link_to('取消', '#', :onclick => "field_cancel_editing(this);", :remote => true) %>
  </p>   
<% end %>